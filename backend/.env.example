# ============================================
# LockCloud Backend Environment Configuration
# ============================================
# 复制此文件为 .env 并填入实际配置值
# 重要: 所有后端命令必须在 conda 环境中运行: conda activate lockcloud

# Flask Configuration
FLASK_ENV=development
# 生成密钥: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-here-change-this

# Database Configuration
# 开发环境 (SQLite - 无需额外安装):
DATABASE_URL=sqlite:///lockcloud.db

# 生产环境 (PostgreSQL - 推荐):
# DATABASE_URL=postgresql://lockcloud_user:your_password@localhost:5432/lockcloud

# JWT Configuration
# 生成密钥: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=your-jwt-secret-key-here-change-this
JWT_ACCESS_TOKEN_EXPIRES=604800  # 7 days in seconds

# Email Configuration (浙江大学邮箱)
MAIL_SERVER=smtp.zju.edu.cn
MAIL_PORT=587
MAIL_USERNAME=your-email@zju.edu.cn
MAIL_PASSWORD=your-email-password
MAIL_USE_TLS=True
MAIL_DEFAULT_SENDER=noreply@lockcloud.com

# S3 Configuration (Bitiful 或 AWS S3)
S3_ENDPOINT=https://s3.bitiful.net
AWS_ACCESS_KEY_ID=your-access-key-id
AWS_SECRET_ACCESS_KEY=your-secret-access-key
S3_BUCKET=funkandlove-cloud
AWS_REGION=us-east-1

# S3 公共资源桶（头像、备份等）
S3_PUBLIC_BUCKET=funkandlove-cloud-public
S3_PUBLIC_ENDPOINT=https://funkandlove-cloud-public.s3.bitiful.net

# 缤纷云 CDN 高级防盗链配置（私有桶 + 源文件保护）
# 在缤纷云控制台 -> 加速项目 -> 高级鉴权 中设置
S3_CDN_DOMAIN=https://your-cdn-domain.com  # CDN 加速域名
S3_TOKEN_KEY=your-token-key-here  # 缤纷云后台设置的鉴权 Key
S3_URL_EXPIRATION=3600  # 签名 URL 有效期（秒），默认 1 小时

# CORS Configuration
# 逗号分隔的允许访问的前端域名列表
CORS_ORIGINS=http://localhost:3000,https://cloud.funk-and.love

# Rate Limiting Configuration
# 开发环境使用内存存储:
RATELIMIT_STORAGE_URL=memory://
# 生产环境使用 Redis (需要安装 Redis):
# RATELIMIT_STORAGE_URL=redis://localhost:6379

# SSO Configuration (Funk & Love Auth Service)
# 开发环境:
SSO_AUTH_API_URL=http://localhost:5000
SSO_AUTH_FRONTEND_URL=http://localhost:3000
# 生产环境:
# SSO_AUTH_API_URL=https://auth-api.funk-and.love
# SSO_AUTH_FRONTEND_URL=https://auth.funk-and.love

# SSO 内部调用头像接口时，使用 JWT_SECRET_KEY 作为 X-SSO-Internal-Key
